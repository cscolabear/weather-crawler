{"version":3,"sources":["components/FooterComponent.js","components/TabButtonComponent.js","components/TabContentRowsComponent.js","components/TabContentComponent.js","lib/Utils.js","App.js","index.js"],"names":["FooterComponent","react_default","a","createElement","className","href","target","rel","TabButtonComponent","props","city","isChecked","checked","ref","concat","onClick","id","county","en_county_name","TabContentRowsComponent","allDay","cityId","rows","current_title","forEach","data","key","push","rainImg","alt","rate","rain","temperature","src","row","TabContentComponent","description","target_url","role","aria-label","components_TabContentRowsComponent","all_day","IdGenerator","toLowerCase","replace","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","default","state","Data","current","keys","React","createRef","updatedAt","Date","toString","targetCityId","length","setState","offsetTop","window","setTimeout","scrollTo","top","behavior","_this2","routes","cityProps","GetCityProp","linkComponent","components_TabButtonComponent","cityName","setCurrent","route","link","to","view","content","path","_ref","location","pathname","components_TabContentComponent","routeGenerator","react_router_dom","basename","map","index","Fragment","react_router","exact","component","components_FooterComponent","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"mQA6BeA,MA1Bf,WACE,OACEC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2CAChBH,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,KAAGE,KAAK,kDAAR,mBADF,oCAGAJ,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eASbH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,gDAAgDC,OAAO,SAASC,IAAI,uBAC1EN,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4BCGRI,EArBY,SAACC,GAAU,IAC5BC,EAASD,EAATC,KACFC,EAAYD,EAAKE,QAAU,aAAe,GAEhD,OACEX,EAAAC,EAAAC,cAAA,SACEU,IAAKH,EAAKG,IACVT,UAAS,aAAAU,OAAeH,GACxBI,QAAS,kBAAMN,EAAMM,QAAQL,EAAKM,MAElCf,EAAAC,EAAAC,cAAA,YAAOO,EAAKO,QACZhB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAhB,IAAmCM,EAAKQ,kBCiB9C,IAqBeC,EArBiB,SAACV,GAAU,IACjCW,EAAmBX,EAAnBW,OAAQC,EAAWZ,EAAXY,OAEVC,EAAO,GAMb,OALAF,EAAOG,cACJC,QAAQ,SAACC,EAAMC,GACdJ,EAAKK,KA1BX,SAAaF,EAAMJ,EAAQK,GACzB,OACEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBsB,IAAG,GAAAZ,OAAKO,EAAL,KAAAP,OAAeW,EAAKF,cAAcG,KACzEzB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,YAAOsB,EAAKF,cAAcG,IAC1BzB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAhB,MAA6BqB,EAAKG,QAAQF,GAAKG,MAEjD5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,qCAAQF,EAAAC,EAAAC,cAAA,QAAMC,WAjBL0B,EAiB0BL,EAAKM,KAAKL,GAhBjDI,EAAO,GACF,sBAGF,KAYsDL,EAAKM,KAAKL,GAAvD,OACRzB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,IAAIqB,EAAKO,YAAYN,GAAlC,aAEFzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAK8B,IAAKR,EAAKG,QAAQF,GAAKO,IAAKJ,IAAKJ,EAAKG,QAAQF,GAAKG,SArBlE,IAAmBC,EAkCHI,CAAId,EAAQC,EAAQK,MAIhCzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACZkB,ICjBQa,EArBa,SAAC1B,GAAU,IAC7BC,EAASD,EAATC,KAER,OACET,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sDACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BACVM,EAAK0B,YACNnC,EAAAC,EAAAC,cAAA,KAAGE,KAAMK,EAAK2B,WAAY/B,OAAO,SAASF,UAAU,sBAAsBG,IAAI,uBAC5EN,EAAAC,EAAAC,cAAA,QAAMmC,KAAK,MAAMC,aAAW,sBAA5B,kBAIJtC,EAAAC,EAAAC,cAACqC,EAAD,CAAyBpB,OAAQV,EAAK+B,QAASpB,OAAQX,EAAKM,cCjBrD0B,EAAc,SAAAxB,GAAc,OAAIA,EAC1CyB,cACAC,QAAQ,OAAQ,IAChBA,QAAQ,QAAS,MC8GLC,cAvGb,SAAAA,EAAYpC,GAAO,IAAAqC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACjBC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMxC,KACD4C,QAAU,cACfP,EAAKQ,MAAQ,CACX7B,KAAM8B,IACNC,QAASV,EAAKO,SAGhBN,OAAOU,KAAKX,EAAKQ,MAAM7B,MACpBD,QAAQ,SAACd,GACRoC,EAAKQ,MAAM7B,KAAKf,GAAMG,IAAM6C,IAAMC,cAGtCb,EAAKc,UAAY,IAAIC,KAAKD,KAAWE,WAbpBhB,0EAgBRzB,GACT,IAAM0C,EAAe1C,EAAO2C,QAAU,EAClCf,KAAKI,QACLhC,EAEJ,GAAI4B,KAAKK,MAAME,UAAYO,EAA3B,CAIAd,KAAKgB,SAAS,CAAET,QAASO,IATR,IAWTP,EAAYP,KAAKK,MAAM7B,KAAKsC,GAAclD,IAA1C2C,QACJA,GAAWA,EAAQU,WACrBC,OAAOC,WAAW,WAChBD,OAAOE,SAAS,CACdC,IAAKd,EAAQU,UACbK,SAAU,YAEX,+CAIU,IAAAC,EAAAvB,KACTwB,EAAS,GA6Bf,OA3BA1B,OAAOU,KAAKR,KAAKK,MAAM7B,MACpBD,QAAQ,SAACd,GACR,IAAMgE,ED/Ca,SAACjD,EAAM+B,GAChC,IAAM9C,EAAOe,EAIb,OAHAf,EAAKM,GAAK0B,EAAYjB,EAAKP,gBAC3BR,EAAKE,QAAUa,EAAKT,KAAOwC,EAEpB9C,EC0CiBiE,CAAYH,EAAKlB,MAAM7B,KAAKf,GAAO8D,EAAKlB,MAAME,SAE1DoB,EAAgB3E,EAAAC,EAAAC,cAAC0E,EAAD,CACpBnE,KAAMgE,EACN3D,QAAS,SAAA+D,GAAQ,OAAIN,EAAKO,WAAWD,MAOjCE,EAAQ,CACZC,KAAM,CACJC,GAAE,IAAApE,OAAM4D,EAAU1D,IAClBmE,KAAMP,GAERQ,QAAS,CACPC,KAAI,IAAAvE,OAAM4D,EAAU1D,IACpBmE,KAZqB,SAAAG,GAAkB,IAAfC,EAAeD,EAAfC,SACpBC,EAAW9C,EAAY6C,EAASC,UAEtC,OADAhB,EAAKO,WAAWS,GACRvF,EAAAC,EAAAC,cAACsF,EAAD,CAAqB/E,KAAMgE,OAarCD,EAAO9C,KAAKqD,KAGTP,mCAIP,IAAMA,EAASxB,KAAKyC,iBAEpB,OACEzF,EAAAC,EAAAC,cAACwF,EAAA,EAAD,CAAYC,SAAS,KACnB3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,6BAEAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACZqE,EAAOoB,IAAI,SAACb,EAAOc,GAAR,OACV7F,EAAAC,EAAAC,cAACF,EAAAC,EAAM6F,SAAP,CAAgBrE,IAAG,SAAAZ,OAAWkE,EAAMC,KAAKC,KACvCjF,EAAAC,EAAAC,cAACwF,EAAA,EAAD,CAAMT,GAAIF,EAAMC,KAAKC,IAAKF,EAAMC,KAAKE,MAC1B,IAAVW,EACG7F,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,CAAOC,OAAK,EAACZ,KAAK,IAAIa,UAAWzB,EAAOqB,GAAOV,QAAQD,OACvD,GACJlF,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,CAAOX,KAAML,EAAMI,QAAQC,KAAMa,UAAWlB,EAAMI,QAAQD,WAMhElF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cACb6C,KAAKW,WAGR3D,EAAAC,EAAAC,cAACgG,EAAD,eAjGQC,aCHlBC,IAASC,OAAOrG,EAAAC,EAAAC,cAACoG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.7f9eba1b.chunk.js","sourcesContent":["import React from 'react';\n\n\nfunction FooterComponent() {\n  return (\n    <footer className=\"footer nes-container is-rounded is-dark\">\n      <p>Feature Of Project</p>\n      <p>\n        <a href=\"https://github.com/cscolabear/weather-crawler/\">weather-crawler</a> | puppeteer, ci, travis, nodejs\n      </p>\n      <p>Coding by Cola</p>\n\n      <div className=\"github-area\">\n        {/* <div className=\"nes-balloon is-rounded-dark from-left \">\n          <p>\n              used <i className=\"nes-jp-logo\"></i> NES.css + <i className=\"polar-bear\"></i> Cola\n          </p>\n          <p>\n            <i className=\"nes-icon star\"></i> Please~~~\n          </p>\n        </div> */}\n        <a href=\"https://github.com/cscolabear/weather-crawler\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <i className=\"nes-octocat animate\"></i>\n        </a>\n      </div>\n    </footer>\n  );\n}\n\nexport default FooterComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nconst TabButtonComponent = (props) => {\n  const { city } = props;\n  const isChecked = city.checked ? 'is-checked' : '';\n\n  return (\n    <label\n      ref={city.ref}\n      className={`tab-label ${isChecked}`}\n      onClick={() => props.onClick(city.id)}\n    >\n      <span>{city.county}</span>\n      <span className=\"en-county-name\">/{city.en_county_name}</span>\n    </label>\n  );\n};\n\nTabButtonComponent.propTypes = {\n  city: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default TabButtonComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nfunction rainColor(rate) {\n  if (rate > 60) {\n    return 'nes-text is-primary';\n  }\n\n  return '';\n}\n\nfunction row(data, cityId, key) {\n  return (\n    <div className=\"tabs__tab-column-row\" key={`${cityId}-${data.current_title[key]}`}>\n      <h2>\n        <span>{data.current_title[key]}</span>\n        <span className=\"normal\"> - {data.rainImg[key].alt}</span>\n      </h2>\n      <div className=\"tabs__tab-column-row-detail\">\n        <div className=\"two-col\">\n          <p>ÈôçÈõ®Ê©üÁéá <span className={rainColor(data.rain[key])}>{data.rain[key]} %</span></p>\n          <p className=\"\">{data.temperature[key]} ÀöC</p>\n        </div>\n        <div className=\"two-col-photo\">\n          <img src={data.rainImg[key].src} alt={data.rainImg[key].alt} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst TabContentRowsComponent = (props) => {\n  const { allDay, cityId } = props;\n\n  const rows = [];\n  allDay.current_title\n    .forEach((data, key) => {\n      rows.push(row(allDay, cityId, key));\n    });\n\n  return (\n    <div className=\"tabs__tab-column\">\n      {rows}\n    </div>\n  );\n};\n\nTabContentRowsComponent.propTypes = {\n  allDay: PropTypes.object.isRequired,\n  cityId: PropTypes.string.isRequired,\n};\n\nexport default TabContentRowsComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TabContentRowsComponent from './TabContentRowsComponent';\n\n\nconst TabContentComponent = (props) => {\n  const { city } = props;\n\n  return (\n    <div className=\"tabs__tab-content nes-container is-rounded is-dark\">\n      <p className=\"tabs__tab-content__desc\">\n        {city.description}\n        <a href={city.target_url} target=\"_blank\" className=\"tab-desc-target-url\" rel=\"noopener noreferrer\">\n          <span role=\"img\" aria-label=\"hand-single-finger\">üëâ</span>\n        </a>\n      </p>\n\n      <TabContentRowsComponent allDay={city.all_day} cityId={city.id} />\n    </div>\n  );\n};\n\nTabContentComponent.propTypes = {\n  city: PropTypes.object.isRequired,\n};\n\nexport default TabContentComponent;\n","export const IdGenerator = en_county_name => en_county_name\n  .toLowerCase()\n  .replace(/\\//gi, '')\n  .replace(/\\s+/gi, '-');\n\n\nexport const GetCityProp = (data, current) => {\n  const city = data;\n  city.id = IdGenerator(data.en_county_name);\n  city.checked = data.id === current;\n\n  return city;\n};\n","import React, { Component } from 'react';\nimport { Route, Link, HashRouter } from 'react-router-dom';\nimport FooterComponent from './components/FooterComponent';\nimport TabButtonComponent from './components/TabButtonComponent';\nimport TabContentComponent from './components/TabContentComponent';\nimport { data as Data, updated_at as updatedAt } from './data/data.json';\nimport { GetCityProp, IdGenerator } from './lib/Utils';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.default = 'taipei-city';\n    this.state = {\n      data: Data,\n      current: this.default,\n    };\n\n    Object.keys(this.state.data)\n      .forEach((city) => {\n        this.state.data[city].ref = React.createRef();\n      });\n\n    this.updatedAt = new Date(updatedAt).toString();\n  }\n\n  setCurrent(cityId) {\n    const targetCityId = cityId.length <= 0\n      ? this.default\n      : cityId;\n\n    if (this.state.current === targetCityId) {\n      return;\n    }\n\n    this.setState({ current: targetCityId });\n\n    const { current } = this.state.data[targetCityId].ref;\n    if (current && current.offsetTop) {\n      window.setTimeout(() => {\n        window.scrollTo({\n          top: current.offsetTop,\n          behavior: 'smooth',\n        });\n      }, 350);\n    }\n  }\n\n  routeGenerator() {\n    const routes = [];\n\n    Object.keys(this.state.data)\n      .forEach((city) => {\n        const cityProps = GetCityProp(this.state.data[city], this.state.current);\n\n        const linkComponent = <TabButtonComponent\n          city={cityProps}\n          onClick={cityName => this.setCurrent(cityName)}\n        />;\n        const contentComponent = ({ location }) => {\n          const pathname = IdGenerator(location.pathname);\n          this.setCurrent(pathname);\n          return (<TabContentComponent city={cityProps} />);\n        };\n        const route = {\n          link: {\n            to: `/${cityProps.id}`,\n            view: linkComponent,\n          },\n          content: {\n            path: `/${cityProps.id}`,\n            view: contentComponent,\n          },\n        };\n\n        routes.push(route);\n      });\n\n    return routes;\n  }\n\n  render() {\n    const routes = this.routeGenerator();\n\n    return (\n      <HashRouter basename=\"/\">\n        <div className=\"App\">\n          <h1>weather-crawler</h1>\n\n          <div className=\"tabs\">\n            {routes.map((route, index) => (\n              <React.Fragment key={`route-${route.link.to}`}>\n                <Link to={route.link.to}>{route.link.view}</Link>\n                {index === 0\n                  ? <Route exact path='/' component={routes[index].content.view} />\n                  : ''}\n                <Route path={route.content.path} component={route.content.view} />\n              </React.Fragment>\n            ))}\n\n          </div>\n\n          <span className=\"mini right\">\n            {this.updatedAt}\n          </span>\n\n          <FooterComponent />\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'nes.css/css/nes.min.css';\nimport './sass/index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}